import{a as h}from"./chunk-6VCTTBHM.js";import"./chunk-WBRTOA2C.js";import{f as p,h as d}from"./chunk-LPDC563P.js";import{$ as u,Cb as l,Oa as n,jb as o,kb as a,mc as m,ub as s}from"./chunk-URYE4ZYK.js";import"./chunk-X5YLR3NI.js";import"./chunk-ODN5LVDJ.js";var y=(()=>{class r{constructor(t,e,i){this.route=t,this.router=e,this.authService=i}ngOnInit(){this.route.queryParams.subscribe(t=>{let{access_token:e,refresh_token:i,error:c}=t;if(c){this.router.navigate(["/auth/login"],{queryParams:{error:c}});return}e&&i?this.authService.handleAuthCallback(e,i).subscribe({next:()=>this.router.navigate(["/"]),error:f=>{console.error("Auth callback error:",f),this.router.navigate(["/auth/login"],{queryParams:{error:"Failed to complete authentication"}})}}):this.router.navigate(["/auth/login"])})}static{this.\u0275fac=function(e){return new(e||r)(n(p),n(d),n(h))}}static{this.\u0275cmp=u({type:r,selectors:[["app-auth-callback"]],standalone:!0,features:[l],decls:8,vars:0,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","to-indigo-50","flex","flex-col","justify-center","py-12","sm:px-6","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"bg-white","py-8","px-4","shadow-2xl","sm:rounded-lg","sm:px-10"],[1,"text-center"],[1,"material-icons","text-4xl","text-blue-500","animate-spin"],[1,"mt-4","text-gray-600"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),s(5," refresh "),a(),o(6,"p",5),s(7," Completing authentication... "),a()()()()())},dependencies:[m],encapsulation:2})}}return r})();export{y as AuthCallbackComponent};
