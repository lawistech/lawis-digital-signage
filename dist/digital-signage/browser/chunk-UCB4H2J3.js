import{b as M,c as p,d as N,e as j,h as V,j as D,k as I,p as A,r as G,t as L}from"./chunk-PCHI4UW3.js";import{a as T}from"./chunk-6VCTTBHM.js";import"./chunk-WBRTOA2C.js";import{h as R,i as q,m as k}from"./chunk-LPDC563P.js";import{$ as y,Cb as F,Na as o,Oa as b,Za as u,ab as h,eb as s,jb as i,kb as t,lb as v,mc as P,nb as _,ob as S,ub as n,vb as C,wb as E}from"./chunk-URYE4ZYK.js";import"./chunk-X5YLR3NI.js";import"./chunk-ODN5LVDJ.js";function B(r,m){if(r&1&&(i(0,"div",7)(1,"div",28)(2,"div",29)(3,"span",30),n(4,"error_outline"),t()(),i(5,"div",31)(6,"p"),n(7),t()()()()),r&2){let l=S();o(7),C(l.error)}}function J(r,m){r&1&&(i(0,"p",14),n(1,"Email is required"),t())}function U(r,m){r&1&&(i(0,"p",14),n(1,"Please enter a valid email"),t())}function z(r,m){r&1&&(i(0,"p",14),n(1,"Password is required"),t())}function H(r,m){r&1&&(i(0,"p",14),n(1,"Password must be at least 6 characters"),t())}function K(r,m){r&1&&(i(0,"p",14),n(1,"Please confirm your password"),t())}function O(r,m){r&1&&(i(0,"p",14),n(1,"Passwords don't match"),t())}function Q(r,m){r&1&&(i(0,"span",20)(1,"span",32),n(2,"refresh"),t()())}var ie=(()=>{class r{constructor(l,a,e){this.fb=l,this.authService=a,this.router=e,this.loading=!1,this.error=null,this.success=!1,this.registerForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",[p.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(l){let a=l.get("password")?.value,e=l.get("confirmPassword")?.value;return a!==e?{passwordMismatch:!0}:null}onSubmit(){if(this.registerForm.valid){this.loading=!0,this.error=null;let{email:l,password:a}=this.registerForm.value;this.authService.signUp(l,a).subscribe({next:e=>{this.loading=!1,e?this.router.navigate(["/"]):this.router.navigate(["/auth/login"],{queryParams:{message:"Please check your email to confirm your account."}})},error:e=>{this.error=e.message||"Failed to create account. Please try again.",this.loading=!1}})}}static{this.\u0275fac=function(a){return new(a||r)(b(G),b(T),b(R))}}static{this.\u0275cmp=y({type:r,selectors:[["app-register"]],standalone:!0,features:[F],decls:57,vars:11,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","to-indigo-50","flex","flex-col","justify-center","py-12","sm:px-6","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-8","sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"bg-white","py-8","px-4","shadow-2xl","sm:rounded-lg","sm:px-10","transform","transition-all","hover:scale-[1.01]"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"bg-red-50","border-l-4","border-red-400","p-4","text-sm","text-red-700"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],[1,"relative","rounded-md","shadow-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"material-icons","text-gray-400","text-sm"],["id","email","type","email","formControlName","email","required","","placeholder","Enter your email",1,"pl-10","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],[1,"mt-1","text-sm","text-red-600"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","type","password","formControlName","password","required","","placeholder","Create a password",1,"pl-10","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","type","password","formControlName","confirmPassword","required","","placeholder","Confirm your password",1,"pl-10","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2.5","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],[1,"mt-6"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],["routerLink","/auth/login",1,"w-full","flex","justify-center","py-2.5","px-4","border-2","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"flex"],[1,"flex-shrink-0"],[1,"material-icons","text-red-400"],[1,"ml-3"],[1,"material-icons","animate-spin","text-sm"]],template:function(a,e){if(a&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),n(3," Create a new account "),t(),i(4,"p",3),n(5," Join Digital Signage "),t()(),i(6,"div",4)(7,"div",5)(8,"form",6),_("ngSubmit",function(){return e.onSubmit()}),u(9,B,8,1,"div",7),i(10,"div")(11,"label",8),n(12," Email address "),t(),i(13,"div",9)(14,"div",10)(15,"div",11)(16,"span",12),n(17,"mail"),t()(),v(18,"input",13),t(),u(19,J,2,0,"p",14)(20,U,2,0,"p",14),t()(),i(21,"div")(22,"label",15),n(23," Password "),t(),i(24,"div",9)(25,"div",10)(26,"div",11)(27,"span",12),n(28,"lock"),t()(),v(29,"input",16),t(),u(30,z,2,0,"p",14)(31,H,2,0,"p",14),t()(),i(32,"div")(33,"label",17),n(34," Confirm Password "),t(),i(35,"div",9)(36,"div",10)(37,"div",11)(38,"span",12),n(39,"lock"),t()(),v(40,"input",18),t(),u(41,K,2,0,"p",14)(42,O,2,0,"p",14),t()(),i(43,"div")(44,"button",19),u(45,Q,3,0,"span",20),n(46),t()()(),i(47,"div",21)(48,"div",22)(49,"div",23),v(50,"div",24),t(),i(51,"div",25)(52,"span",26),n(53," Already have an account? "),t()()(),i(54,"div",21)(55,"a",27),n(56," Sign in "),t()()()()()()),a&2){let d,c,f,g,x,w;o(8),h("formGroup",e.registerForm),o(),s(e.error?9:-1),o(10),s((d=e.registerForm.get("email"))!=null&&d.touched&&(!((d=e.registerForm.get("email"))==null||d.errors==null)&&d.errors.required)?19:-1),o(),s((c=e.registerForm.get("email"))!=null&&c.touched&&(!((c=e.registerForm.get("email"))==null||c.errors==null)&&c.errors.email)?20:-1),o(10),s((f=e.registerForm.get("password"))!=null&&f.touched&&(!((f=e.registerForm.get("password"))==null||f.errors==null)&&f.errors.required)?30:-1),o(),s((g=e.registerForm.get("password"))!=null&&g.touched&&(!((g=e.registerForm.get("password"))==null||g.errors==null)&&g.errors.minlength)?31:-1),o(10),s((x=e.registerForm.get("confirmPassword"))!=null&&x.touched&&(!((x=e.registerForm.get("confirmPassword"))==null||x.errors==null)&&x.errors.required)?41:-1),o(),s(e.registerForm.errors!=null&&e.registerForm.errors.passwordMismatch&&((w=e.registerForm.get("confirmPassword"))!=null&&w.touched)?42:-1),o(2),h("disabled",!e.registerForm.valid||e.loading),o(),s(e.loading?45:-1),o(),E(" ",e.loading?"Creating account...":"Create account"," ")}},dependencies:[P,L,V,M,N,j,A,D,I,k,q],encapsulation:2})}}return r})();export{ie as RegisterComponent};
