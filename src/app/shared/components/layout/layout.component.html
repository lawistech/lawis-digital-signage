<!-- layout.component.html -->
<div class="min-h-screen bg-gray-100">
  <!-- Mobile menu button -->
  <div class="lg:hidden">
    <button
      class="fixed top-4 left-4 z-50 p-2 rounded-md bg-white shadow-lg"
      (click)="toggleSidebar()"
    >
      @if (isSidebarOpen) {
        <span class="material-icons">close</span>
      } @else {
        <span class="material-icons">menu</span>
      }
    </button>
  </div>

  <!-- Sidebar -->
  @if (isAuthenticated) {
    <aside
      class="fixed inset-y-0 left-0 z-40 w-64 bg-white shadow transform transition-transform duration-300 ease-in-out"
      [class.translate-x-0]="isSidebarOpen"
      [class.-translate-x-full]="!isSidebarOpen"
      [class.lg:translate-x-0]="true"
    >
      <div class="h-full flex flex-col">
        <!-- Logo -->
        <div class="p-4 border-b">
          <h1 class="text-xl font-bold">Resay Digital Signage</h1>
        </div>

        <!-- User Profile Section -->
        <div class="p-4 border-b">
          <div class="flex items-center space-x-3">
            <div class="bg-blue-500 w-10 h-10 rounded-full flex items-center justify-center text-white font-medium">
              {{ getUserInitial() }}
            </div>
            <div class="overflow-hidden">
              <p class="text-sm font-medium text-gray-900 truncate">{{ getUserDisplayName() }}</p>
              <p class="text-xs text-gray-500">Viewing your content</p>
            </div>
          </div>
        </div>

        <!-- Navigation -->
        <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
          @for (item of navigationItems; track item.path) {
            <a
              [routerLink]="item.path"
              routerLinkActive="bg-blue-50 text-blue-600"
              class="flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"
            >
              <span class="material-icons mr-3">{{ item.icon }}</span>
              {{ item.label }}
            </a>
          }
        </nav>

        <!-- User section -->
        <div class="p-4 border-t">
          <button
            (click)="logout()"
            class="flex items-center w-full px-4 py-2 text-gray-600 hover:bg-gray-50 rounded-lg"
          >
            <span class="material-icons mr-3">logout</span>
            Sign out
          </button>
        </div>
      </div>
    </aside>
  }

  <!-- Main content -->
  <main
    class="transition-all duration-300 ease-in-out"
    [class.lg:ml-64]="isAuthenticated"
  >
    <div class="p-4">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>