<!-- layout.component.html -->
<div class="min-h-screen bg-gray-100">
  <!-- Mobile menu button -->
  <div class="lg:hidden">
    <button
      class="fixed top-4 left-4 z-50 p-2 rounded-md bg-white shadow-lg"
      (click)="toggleSidebar()"
    >
      @if (isSidebarOpen) {
        <span class="material-icons">close</span>
      } @else {
        <span class="material-icons">menu</span>
      }
    </button>
  </div>

  <!-- Sidebar -->
  @if (isAuthenticated) {
    <aside
      class="fixed inset-y-0 left-0 z-40 w-64 bg-white shadow transform transition-transform duration-300 ease-in-out flex flex-col"
      [class.translate-x-0]="isSidebarOpen"
      [class.-translate-x-full]="!isSidebarOpen"
      [class.lg:translate-x-0]="true"
    >
      <!-- Logo -->
      <div class="p-4 border-b">
        <h1 class="text-xl font-bold">Resay Digital Signage</h1>
      </div>

      <!-- Navigation -->
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        @for (item of navigationItems; track item.path) {
          <a
            [routerLink]="item.path"
            routerLinkActive="active-nav-link"
            class="flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"
          >
            <span class="material-icons mr-3">{{ item.icon }}</span>
            {{ item.label }}
          </a>
        }
      </nav>

      <!-- Profile Component -->
      <app-profile></app-profile>
    </aside>
  }

  <!-- Main content -->
  <main
    class="transition-all duration-300 ease-in-out"
    [class.lg:ml-64]="isAuthenticated"
  >
    <div class="p-4">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>